!function(){function e(){var e=function(){};return e.createCssRules=function(){if(!document.getElementById("cs_css")){var e,t=document.createElement("style");t.id="cs_css",document.head.appendChild(t),e=t.sheet,e.insertRule(".cs_hbar_btn { position: absolute; top: 0; left: 0; height: 100%; width: 0.9%; background-color: rgba(255,255,255,0.9); }",0),e.insertRule(".cs_hbar_bg_mask { position: absolute; top: 0; left: 0; height: 100%; width: 100%; background-color: rgba(255,255,255,0.2); }",0),e.insertRule(".active .cs_hbar_bg_mask { background-color: rgba(255,255,255,0); }",0),e.insertRule("@media screen and (max-width: 600px){ .cs_hbar_bg { min-height: 16px; margin-right: 2px; } }",0),e.insertRule(".cs_hbar_bg { position: relative; box-sizing: border-box; min-height: 10px; min-width: 202px; background-color: rgba(0,0,0,1); }",0),e.insertRule(".active .cs_hbar_bg { outline: 1px solid rgba(255,255,255,0.4); }",0),e.insertRule(".cs_hbar { position: relative; display: block; cursor: pointer; margin: 2px; }",0),e.insertRule(".cs_hbar_group { position: relative; display: inline-block; }",0),e.insertRule("@media screen and (max-width: 600px){ .cs_icon { margin: 2px 2px 2px 4px; min-width: 70px; min-height: 70px; }}",0),e.insertRule(".cs_icon { display: block; margin: 2px; min-width: 46px; min-height: 46px; float: left; }",0),e.insertRule("@media screen and (max-width: 600px){ .cs_panel { width: 284px; }}",0),e.insertRule(".cs_panel { position: absolute; top: 0; left: 0; opacity: 0; pointer-events: none; transition: opacity 0.1s; overflow: visible; z-index: 100; width: 256px; background-color: rgba(0,0,0,0.6); }",0),e.insertRule(".cs_panel.focus { opacity: 1; pointer-events: auto; }",0),e.insertRule(".cs_widget_container { position: relative; overflow: visible; height: 0; width: 0 ; top: 0; left: 0; }",0)}},e.defaultColorMode="hsv",e.createPanel=function(a){var n,s,i=document.createElement("div"),o=document.createElement("div"),r=document.createElement("div"),d=document.createElement("div"),c=a.dataset.mode,l=a.value,u=t(l);t.modes.hasOwnProperty(c)||(c=e.defaultColorMode),n=t.modes[c],u.to(c,!1),r.className="cs_widget_container",i.className="cs_panel",i.color=u,i.dataset.mode=c,i.appendChild(d),d.className="cs_icon",o.className="cs_hbar_group";for(var h=0;h<n.keys.length;h++)s=e.createHBar(n.keys[h],n[n.keys[h]].min,n[n.keys[h]].max,n[n.keys[h]].step),o.appendChild(s),e.setBarRatio(s,u[n.keys[h]].ratio);s=e.createHBar("alpha",n.alpha.min,n.alpha.max,n.alpha.step),o.appendChild(s),e.setBarRatio(s,u.alpha.ratio),i.dataset.value=""+u,i.appendChild(o),r.appendChild(i),document.body.insertBefore(r,document.body.childNodes[0]),i.id="cs_panel_"+Math.round(Math.random()*Math.pow(2,16)).toString(16),a.dataset.panel=i.id,i.cs_target=a,e.currentPanel=i,e.refreshPanel(i),a.addEventListener("focus",e.showPanel),a.addEventListener("change",e.updatePanel)},e.createHBar=function(e,t,a,n){var s=document.createElement("div"),i=document.createElement("div"),o=document.createElement("div"),r=document.createElement("div");return s.className="cs_hbar",i.className="cs_hbar_bg",r.className="cs_hbar_bg_mask",o.className="cs_hbar_btn",i.appendChild(r),i.appendChild(o),s.appendChild(i),s.dataset.k=e,s.dataset.l=t,s.dataset.h=a,s.dataset.i=n,s.dataset.v=t,s.dataset.r=0,s.title=e[0].toUpperCase()+e.substr(1),s},e.getBarValue=function(e){var t,a,n=e.childNodes[0],s=n.childNodes[1],i=n.getBoundingClientRect(),o=s.getBoundingClientRect(),r=+e.dataset.l,d=+e.dataset.h,c=+e.dataset.i;if(e.classList.contains("cs_hbar"))t=(o.left-i.left)/(i.width-o.width);else{if(!e.classList.contains("cs_vbar"))return null;t=(o.top-i.top)/(i.height-o.height)}return a=r+(d-r)*t,c&&(a=Math.round(a/c)*c),e.dataset.r=t,e.dataset.v=a,t},e.setBarRatio=function(e,t){var a,n=e.childNodes[0],s=(n.childNodes[1],+e.dataset.l),i=+e.dataset.h,o=+e.dataset.i;t=Math.max(Math.min(t,1),0),a=s+(i-s)*t,o&&(a=Math.round(a/o)*o),e.dataset.r=t,e.dataset.v=a},e.setBarValue=function(t,a){var n=+t.dataset.l,s=+t.dataset.h,i=(+a-n)/(s-n);e.setBarRatio(t,i)},e.refreshBarPosition=function(e){var t=e.childNodes[0],a=t.childNodes[1],n=+e.dataset.r;e.classList.contains("cs_hbar")?a.style.left=(t.offsetWidth-a.offsetWidth)*n+"px":e.classList.contains("cs_vbar")&&(a.style.top=(t.offsetHeight-a.offsetHeight)*n+"px")},e.barDragStart=function(t){var a=t.target,n=4;for(e.barDraggingDom=null;--n&&a!=document;){if(a.classList.contains("cs_hbar")||a.classList.contains("cs_vbar")){e.barDraggingDom=a,a.classList.add("active"),e.currentPanel=a.parentNode.parentNode;break}a=a.parentNode}e.barDraggingDom&&(t.preventDefault(),document.body.removeEventListener("mousedown",e.barDragStart),document.body.addEventListener("mousemove",e.barDragging),document.body.addEventListener("mouseup",e.barDragEnd),e.barDragging(t))},e.barDragging=function(t){t.preventDefault();var a=e.barDraggingDom.childNodes[0],n=a.childNodes[1],s=a.getBoundingClientRect(),i=n.getBoundingClientRect(),o=t.clientX,r=t.clientY;e.barDraggingDom.classList.contains("cs_hbar")?n.style.left=Math.max(Math.min(o-s.left,s.width-i.width),0)+"px":e.barDraggingDom.classList.contains("cs_vbar")&&(n.style.top=Math.max(Math.min(r-s.top,s.height-i.height),0)+"px"),e.getBarValue(e.barDraggingDom),e.refreshPanel(e.currentPanel)},e.barDragEnd=function(t){t.preventDefault(),document.body.addEventListener("mousedown",e.barDragStart),document.body.removeEventListener("mousemove",e.barDragging),document.body.removeEventListener("mouseup",e.barDragEnd),e.barDraggingDom.classList.remove("active"),e.barDraggingDom=null},e.enableDrag=function(){document.body.removeEventListener("mousedown",e.barDragStart),document.body.addEventListener("mousedown",e.barDragStart)},e.disableDrag=function(){document.body.removeEventListener("mousedown",e.barDragStart)},e.refreshPanel=function(t){var a,n,s,i,o,r=t.color,d=t.childNodes[0];e.barDraggingDom&&(r[e.barDraggingDom.dataset.k]=+e.barDraggingDom.dataset.v),d.style.backgroundColor=r.css(),d.title=r.css();for(var c=0;c<t.childNodes[1].childNodes.length;c++){if(a=t.childNodes[1].childNodes[c],"h"==a.dataset.k){n=[r.duplicate(),r.duplicate(),r.duplicate(),r.duplicate(),r.duplicate(),r.duplicate(),r.duplicate(),r.duplicate(),r.duplicate(),r.duplicate(),r.duplicate(),r.duplicate(),r.duplicate()],s=0,i=360,o=360/(n.length-1);for(var l=0;l<n.length;l++)n[l].h=s+o*l;e.refreshBarBg(a,n)}else{n=[r.duplicate(),r.duplicate(),r.duplicate(),r.duplicate(),r.duplicate(),r.duplicate(),r.duplicate(),r.duplicate(),r.duplicate(),r.duplicate()],s=+a.dataset.l,i=+a.dataset.h,o=(i-s)/(n.length-1);for(var l=0;l<n.length;l++)n[l][a.dataset.k]=s+o*l;e.refreshBarBg(a,n)}e.refreshBarPosition(a)}t.dataset.value=""+r,t.cs_target.value=r.alpha.ratio<1?r.css():r.hex()},e.refreshBarBg=function(e,t){e.classList.contains("cs_hbar")?e.childNodes[0].style.backgroundImage="linear-gradient( to right, "+t.map(function(e){return function(t,a){return t.css()+" "+a/e*100+"%"}}(t.length-1)).join(", ")+" )":e.classList.contains("cs_vbar")&&(e.childNodes[0].style.backgroundImage="linear-gradient( to bottom, "+t.map(function(e){return function(t,a){return t.css()+" "+a/e*100+"%"}}(t.length-1)).join(", ")+" )")},e.updatePanel=function(){var a=t(this.value),n=document.getElementById(this.dataset.panel),s=n.dataset.mode||e.defaultColorMode,i=n.childNodes[1].childNodes;a.to(s,!1);for(var o=0;o<i.length;o++)e.setBarRatio(i[o],a[i[o].dataset.k].ratio),e.refreshBarPosition(i[o]);n.color=a,e.refreshPanel(n)},e.showPanel=function(){var t=document.getElementById(this.dataset.panel),a=this.getBoundingClientRect(),n=t.getBoundingClientRect();t.classList.add("focus"),t.style.left=a.left+document.body.scrollLeft+n.width>document.body.scrollWidth?document.body.scrollWidth-n.width+"px":a.left+document.body.scrollLeft+"px",t.style.top=a.top-n.height+document.body.scrollTop+"px",document.body.addEventListener("mousedown",e.hidePanel)},e.hidePanel=function(t){for(var a=t.target,n=1;a!=document;){if(a.classList.contains("cs_panel")&&a.classList.contains("focus")||a.dataset.panel){n=0;break}a=a.parentNode}if(n){for(var s=document.querySelectorAll(".cs_panel.focus"),i=0;i<s.length;i++)s[i].cs_target.dispatchEvent(new Event("change")),s[i].cs_target.dispatchEvent(new Event("keyup")),s[i].classList.remove("focus");document.body.removeEventListener("mousedown",e.hidePanel)}},e.addPanels=function(){for(var t=document.querySelectorAll("input.cs_widget"),a=0;a<t.length;a++)e.createPanel(t[a])},e.createCssRules(),e.enableDrag(),e.addPanels(),window.Color.ColorSelector=e}var t=window.Color;if(t)return e();var a=document.createElement("script");a.onload=function(){e()},a.src="https://xnedkx.github.io/color/cc-min.js",document.head.appendChild(a)}();